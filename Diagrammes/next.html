<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ball in a box </title>
    <script src="framerate_lib.js"></script>
    <style>
        body {background-color: black;margin:0;padding:0;}
        #framerate {color:white;font-size:20px;}
    </style>
</head>
<body>
    <div id="framerate"></div>
    <canvas id="canvas" width="600" height="300">upgradez votre navigateur</canvas>
    
    <script>
        var canvas ;
        var ctx;
        var x = 0 ;
        var y = 0 ;
        var dx = 5.1 ;
        var dy = 3.3 ;
        var WIDTH = 600 ;
        var HEIGHT = 300 ;
        var framerate = new Framerate('framerate')
        function init() {
            canvas = document.getElementById("canvas")
            ctx = canvas.getContext("2d")
            return setInterval(draw,10)
        }
        function clear(){
            ctx.clearRect(0,0,WIDTH,HEIGHT);
        }
        function rect(x,y,w,h){
            ctx.beginPath();
            ctx.rect(x,y,w,h)
            ctx.closePath()
            ctx.fill()
        }
        function circle(x,y,r){
            ctx.beginPath();
            ctx.arc(x,y,r,0,Math.PI*2,true);
            ctx.fill();
        }
        function draw(){
            clear();
            ctx.fillStyle = "#F00"
            rect(0,0,WIDTH,HEIGHT)
            ctx.fillStyle = "#FFF" ;
            circle(x,y,10);
            if(x + dx > WIDTH || x + dx < 0) {  dx = -dx }
            if(y + dy > HEIGHT || y + dy < 0) {  dy = -dy }
            x += dx 
            y += dy 
            
            framerate.snapshot()
        }
        init();
    </script>
</body>
</html>